<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Converter | Convert to JPG & PNG</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #007aff;
            --primary-blue-hover: #0056b3;
            --light-gray: #f2f2f7;
            --medium-gray: #e5e5ea;
            --border-gray: #d1d1d6;
            --text-primary: #1c1c1e;
            --text-secondary: #8a8a8e;
            --background: #ffffff;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --border-radius-lg: 18px;
            --border-radius-md: 12px;
            --transition-speed: 0.3s;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light-gray);
            margin: 0;
            color: var(--text-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .main-container {
            width: 100%;
            max-width: 900px;
            padding: 20px;
            box-sizing: border-box;
            margin: 20px auto;
        }

        .main-content {
            background-color: var(--background);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            padding: 30px;
            animation: fadeIn 0.8s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header & Footer */
        .app-header-nav {
            background-color: var(--background);
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { font-size: 1.5rem; font-weight: 700; color: var(--primary-blue); }
        .nav-link { color: var(--text-secondary); text-decoration: none; font-weight: 500; margin-left: 20px; transition: color var(--transition-speed); }
        .nav-link:hover { color: var(--primary-blue); }

        .app-footer {
            background-color: #e5e5ea;
            padding: 40px 20px;
            margin-top: 40px;
            text-align: center;
        }
        .footer-container { max-width: 900px; margin: 0 auto; }
        .footer-links { margin-bottom: 15px; }
        .footer-links a { color: var(--text-secondary); text-decoration: none; margin: 0 10px; font-size: 0.9rem; transition: color var(--transition-speed); }
        .footer-links a:hover { color: var(--primary-blue); }
        .app-footer p { margin: 0; color: #a1a1a6; font-size: 0.85rem; }


        /* Ad Placeholders (as per your original file) */
        .ad-placeholder {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 25px auto;
            box-sizing: border-box;
            overflow: hidden;
        }
        .ad-label { color: var(--text-secondary); font-weight: 500; }
        .ad-top-banner { max-width: 728px; width: 100%; }
        .ad-sidebar { max-width: 300px; width: 100%; flex-shrink: 0; margin-top: 0; }


        /* Main Title */
        .app-header {
            text-align: center;
            margin-bottom: 25px;
        }
        .app-header h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 8px; }
        .app-header p { font-size: 1.1rem; color: var(--text-secondary); max-width: 500px; margin: 0 auto; line-height: 1.5; }

        /* Converter */
        .converter-wrapper { padding: 0; position: relative; }

        .uploader-area {
            border: 2px dashed var(--border-gray);
            border-radius: var(--border-radius-md);
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-speed) ease;
        }

        .uploader-area.drag-over {
            border-color: var(--primary-blue);
            background-color: #f9f9ff;
            transform: scale(1.02);
        }

        .uploader-content .upload-icon { color: var(--primary-blue); margin-bottom: 15px; }
        .uploader-content .upload-text { font-size: 1.1rem; margin: 0 0 5px 0; }
        .uploader-content .upload-hint { font-size: 0.85rem; color: var(--text-secondary); margin: 0; }
        .hidden { display: none !important; }

        /* Preview Area */
        .preview-area { animation: slideIn 0.5s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .image-preview-wrapper { position: relative; margin-bottom: 20px; }
        #imagePreview { width: 100%; max-height: 300px; object-fit: contain; border-radius: var(--border-radius-md); border: 1px solid var(--medium-gray); }
        .remove-button { position: absolute; top: -10px; right: -10px; width: 30px; height: 30px; background-color: var(--text-primary); color: var(--background); border: none; border-radius: 50%; font-size: 1.2rem; cursor: pointer; display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.2); transition: transform var(--transition-speed) ease, background-color var(--transition-speed) ease; }
        .remove-button:hover { transform: scale(1.1); background-color: #e53935; }

        /* Controls */
        .controls-container { display: flex; flex-direction: column; gap: 15px; }
        .controls-label { font-size: 0.9rem; font-weight: 500; color: var(--text-secondary); margin: 0; text-align: center; }
        .format-selector { display: flex; background-color: var(--medium-gray); border-radius: var(--border-radius-md); padding: 4px; width: 100%; box-sizing: border-box; }
        .format-btn { flex: 1; padding: 10px; border: none; background-color: transparent; border-radius: 9px; font-size: 1rem; font-weight: 600; color: var(--text-primary); cursor: pointer; transition: all var(--transition-speed) ease; }
        .format-btn.active { background-color: var(--background); box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12); color: var(--primary-blue); }
        .download-btn { background-color: var(--primary-blue); color: white; font-size: 1.1rem; font-weight: 600; border: none; padding: 15px; border-radius: var(--border-radius-md); cursor: pointer; transition: all var(--transition-speed) ease; }
        .download-btn:hover { background-color: var(--primary-blue-hover); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0, 122, 255, 0.25); }

        /* Dashboard */
        .dashboard-section {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px 0;
        }
        .stat-card {
            background: var(--light-gray);
            border-radius: var(--border-radius-md);
            padding: 20px;
            text-align: center;
        }
        .stat-card h4 {
            margin: 0 0 8px 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }
        .stat-card p {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        /* Article & Content Layout */
        .content-layout {
            display: flex;
            gap: 30px;
            margin-top: 40px;
        }
        .article-section { flex: 1; }
        .article-section h2 { margin-top: 0; font-size: 1.8rem; }
        .article-section h3 { margin-top: 25px; font-size: 1.3rem; }
        .article-section p, .article-section ul {
            line-height: 1.7;
            color: var(--text-secondary);
        }
        .article-section ul { padding-left: 20px; }
        .article-section li { margin-bottom: 10px; }

        /* Processing Overlay */
        .processing-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(5px); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10; animation: fadeIn 0.3s ease; }
        .spinner { width: 40px; height: 40px; border: 4px solid var(--medium-gray); border-top-color: var(--primary-blue); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 15px; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .processing-overlay p { font-weight: 500; color: var(--text-primary); }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content { padding: 20px; }
            .logo { font-size: 1.2rem; }
            .nav-link { margin-left: 10px; font-size: 0.9rem; }
            .app-header h1 { font-size: 2rem; }
            .app-header p { font-size: 1rem; }
            .content-layout { flex-direction: column; }
            .ad-sidebar { width: 100%; max-width: 300px; margin: 20px auto 0 auto; }
            .dashboard-section { grid-template-columns: 1fr; }
        }

        /* Smartlink Ad Button */
        .ad-smartlink-banner {
            background: transparent;
            border: none;
            margin: 40px auto;
            padding: 0;
            text-align: center;
        }

        .smartlink-ad-btn {
            display: inline-block;
            background: linear-gradient(45deg, #28a745, #218838);
            color: white;
            padding: 20px 40px;
            border-radius: var(--border-radius-md);
            text-decoration: none;
            font-size: 1.4rem;
            font-weight: 700;
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3);
            transition: all 0.3s ease;
            text-align: center;
            border: none;
            cursor: pointer;
            max-width: 100%;
        }

        .smartlink-ad-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 25px rgba(40, 167, 69, 0.4);
        }

        .smartlink-ad-btn span {
            display: block;
        }

        .smartlink-ad-btn small {
            font-size: 0.9rem;
            font-weight: 400;
            opacity: 0.9;
            display: block;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .smartlink-ad-btn {
                font-size: 1.2rem;
                padding: 15px 25px;
            }
        }
    </style>
</head>
<body>

    <header class="app-header-nav">
        <div class="nav-container">
            <div class="logo">ImageConverter Pro</div>
            <nav>
                <a href="#" class="nav-link">Home</a>
                <a href="#article-section" class="nav-link">Learn More</a>
                <a href="#footer" class="nav-link">Contact</a>
            </nav>
        </div>
    </header>

    <div class="main-container">
        <div class="main-content">
            <header class="app-header">
                <h1>Instant Image Converter</h1>
                <p>Convert any image to high-quality JPG or PNG format with a single click.</p>
            </header>

            <div class="ad-placeholder ad-top-banner">
                <div class="ad-label">
                    <script type="text/javascript">
                        atOptions = {
                            'key' : 'eff30c97e657ef437f8e0ab9937bbe86',
                            'format' : 'iframe',
                            'height' : 50,
                            'width' : 320,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/eff30c97e657ef437f8e0ab9937bbe86/invoke.js"></script>
                </div>
            </div>

            <div class="converter-wrapper">
                <div id="uploader" class="uploader-area">
                    <div class="uploader-content">
                        <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                        <p class="upload-text"><strong>Click to upload</strong> or drag and drop</p>
                        <p class="upload-hint">Supports WEBP, BMP, TIFF, and more</p>
                    </div>
                    <input type="file" id="fileInput" hidden accept="image/*">
                </div>

                <div id="previewArea" class="preview-area hidden">
                    <div class="image-preview-wrapper">
                        <img id="imagePreview" src="#" alt="Image Preview" />
                        <button id="removeBtn" class="remove-button">&times;</button>
                    </div>
                    
                    <div class="controls-container">
                        <p class="controls-label">Convert to:</p>
                        <div class="format-selector">
                            <button class="format-btn active" data-format="jpeg">JPG</button>
                            <button class="format-btn" data-format="png">PNG</button>
                        </div>
                        <button id="downloadBtn" class="download-btn">Convert & Download</button>
                    </div>
                </div>

                <div id="processingOverlay" class="processing-overlay hidden">
                    <div class="spinner"></div>
                    <p>Converting...</p>
                </div>
            </div>

            <div class="ad-placeholder ad-smartlink-banner">
                 <a href="https://www.revenuecpmgate.com/fcr44zjbxx?key=7c75a467eacaf805dcde7cb877f03180" target="_blank" class="smartlink-ad-btn">
                    <span>Try Our Sponsor's Tool</span>
                    <small>Click for a special offer!</small>
                </a>
            </div>

            <section class="dashboard-section">
                <div class="stat-card">
                    <h4>Conversions Today</h4>
                    <p>1,482</p>
                </div>
                <div class="stat-card">
                    <h4>Avg. File Size Saved</h4>
                    <p>45%</p>
                </div>
                <div class="stat-card">
                    <h4>Users Online</h4>
                    <p>89</p>
                </div>
            </section>
            
            <div class="content-layout">
                <section id="article-section" class="article-section">
                    <h2>Why You Should Convert Your Images</h2>
                    <p>In the digital world, images are everything. But not all image formats are created equal. Using the right format can dramatically improve your website's loading speed, save storage space, and ensure your images look sharp on every device. Our tool makes this process effortless.</p>
                    
                    <div class="ad-placeholder">
                         <script type='text/javascript' src='//pl27641316.revenuecpmgate.com/ae/3d/ad/ae3dadcb7f4a3fa3cae68a0ee3de1003.js'></script>
                    </div>
                    <h3>Key Benefits of JPG and PNG:</h3>
                    <ul>
                        <li><strong>JPG (JPEG):</strong> Best for photographs and complex images. It uses lossy compression to create much smaller file sizes, which is ideal for web pages that need to load quickly.</li>
                        <li><strong>PNG:</strong> Perfect for graphics with sharp lines, text, or transparent backgrounds (like logos). Its lossless compression means you don't lose any quality, which is crucial for professional designs.</li>
                    </ul>
                    <p>By converting formats like WEBP, BMP, or TIFF to the universally supported JPG or PNG, you guarantee compatibility across all browsers and platforms, ensuring a seamless experience for your audience.</p>

                    <h3>How Does Image Compression Work?</h3>
                    <p>Image compression is a process that reduces the size of an image file without significantly degrading its quality. There are two main types: lossy and lossless. Lossy compression (used by JPG) removes some data from the image, which is often unnoticeable to the human eye, to achieve a smaller file size. Lossless compression (used by PNG) finds patterns in the data to represent it more efficiently without discarding any information, preserving the original quality perfectly.</p>
                    
                    <h3>Choosing the Right Format for the Web</h3>
                    <p>For most photos on your website, JPG is the best choice due to its excellent balance of quality and small file size. This leads to faster page load times and a better user experience. For logos, icons, illustrations, or any image where you need a transparent background, PNG is the ideal format. Our tool gives you the power to choose the perfect format for your needs.</p>
                </section>

                <aside class="ad-placeholder ad-sidebar">
                    <div class="ad-label">
                         <script type="text/javascript">
                            atOptions = {
                                'key' : 'eff30c97e657ef437f8e0ab9937bbe86',
                                'format' : 'iframe',
                                'height' : 250,
                                'width' : 300,
                                'params' : {}
                            };
                        </script>
                        <script type="text/javascript" src="//www.highperformanceformat.com/eff30c97e657ef437f8e0ab9937bbe86/invoke.js"></script>
                    </div>
                </aside>
            </div>
        </div>
    </div>

    <footer class="app-footer" id="footer">
        <div class="footer-container">
            <div class="footer-links">
                <a href="#">About Us</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact</a>
            </div>
            <p>&copy; 2025 ImageConverter Pro. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Smartlink Ad URL ---
            const smartlinkUrl = 'https://www.revenuecpmgate.com/fcr44zjbxx?key=7c75a467eacaf805dcde7cb877f03180';

            // --- DOM Element Selection ---
            const uploaderArea = document.getElementById('uploader');
            const fileInput = document.getElementById('fileInput');
            const previewArea = document.getElementById('previewArea');
            const imagePreview = document.getElementById('imagePreview');
            const removeBtn = document.getElementById('removeBtn');
            const formatBtns = document.querySelectorAll('.format-btn');
            const downloadBtn = document.getElementById('downloadBtn');
            const processingOverlay = document.getElementById('processingOverlay');

            // --- State Management ---
            let originalFile = null;
            let originalFileName = '';
            let selectedFormat = 'jpeg'; // Default format

            // --- Event Listeners ---

            // Trigger file input when the uploader area is clicked
            uploaderArea.addEventListener('click', () => fileInput.click());

            // Handle file selection
            fileInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    handleFile(file);
                }
            });

            // Drag and Drop functionality
            uploaderArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploaderArea.classList.add('drag-over');
            });

            uploaderArea.addEventListener('dragleave', () => {
                uploaderArea.classList.remove('drag-over');
            });

            uploaderArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploaderArea.classList.remove('drag-over');
                const file = e.dataTransfer.files[0];
                if (file) {
                    handleFile(file);
                }
            });

            // Handle format selection
            formatBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    formatBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    selectedFormat = btn.dataset.format;
                });
            });

            // Handle image removal
            removeBtn.addEventListener('click', resetInterface);

            // Handle download button click to include smartlink
            downloadBtn.addEventListener('click', () => {
                // First, open the smartlink ad in a new tab
                window.open(smartlinkUrl, '_blank');
                
                // Then, proceed with the original conversion and download function
                convertAndDownload();
            });


            // --- Core Functions ---

            /**
             * Handles the selected or dropped file.
             * @param {File} file - The image file.
             */
            function handleFile(file) {
                if (!file.type.startsWith('image/')) {
                    alert('Please upload an image file.');
                    return;
                }

                originalFile = file;
                originalFileName = file.name.split('.').slice(0, -1).join('.'); // Get name without extension

                const reader = new FileReader();
                reader.onload = (e) => {
                    imagePreview.src = e.target.result;
                    showPreview();
                };
                reader.readAsDataURL(file);
            }

            /**
             * Switches the UI to show the image preview and conversion controls.
             */
            function showPreview() {
                uploaderArea.classList.add('hidden');
                previewArea.classList.remove('hidden');
            }

            /**
             * Resets the UI to its initial state.
             */
            function resetInterface() {
                previewArea.classList.add('hidden');
                uploaderArea.classList.remove('hidden');
                fileInput.value = ''; // Clear the file input
                originalFile = null;
                imagePreview.src = '#';
            }

            /**
             * Converts the uploaded image to the selected format and triggers a download.
             */
            function convertAndDownload() {
                if (!originalFile) return;

                showProcessing(true);

                const reader = new FileReader();
                reader.onload = (e) => {
                    const img = new Image();
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        
                        canvas.width = img.width;
                        canvas.height = img.height;
                        
                        // For PNGs with transparency, fill background with white if converting to JPG
                        if (selectedFormat === 'jpeg') {
                            ctx.fillStyle = '#FFFFFF';
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }

                        ctx.drawImage(img, 0, 0);

                        const mimeType = `image/${selectedFormat}`;
                        // For JPG, quality can be specified (0.0 to 1.0)
                        const dataUrl = canvas.toDataURL(mimeType, 0.95);

                        // Create a temporary link to trigger download
                        const link = document.createElement('a');
                        link.href = dataUrl;
                        link.download = `${originalFileName}.${selectedFormat === 'jpeg' ? 'jpg' : 'png'}`;
                        
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        
                        showProcessing(false);
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(originalFile);
            }

            /**
             * Shows or hides the processing overlay.
             * @param {boolean} isProcessing - True to show, false to hide.
             */
            function showProcessing(isProcessing) {
                if (isProcessing) {
                    processingOverlay.classList.remove('hidden');
                } else {
                    processingOverlay.classList.add('hidden');
                }
            }
        });
    </script>
</body>
</html>
